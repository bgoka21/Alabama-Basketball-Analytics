{% extends 'base.html' %}
{% block content %}
<h1>Recruits</h1>
<a href="{{ url_for('recruit.add_recruit') }}" class="btn">+ Add Recruit</a>
<table class="table-auto w-full mt-4 text-left">
  <thead>
      <tr>
        <th>Name</th>
        <th>School</th>
        <th>Pos</th>
        <th>3FG%</th>
        <th>FT%</th>
        <th>A/T</th>
        <th>OffRtg</th>
        <th>DefRtg</th>
        <th>247 Ovr</th>
        <th>247 Pos</th>
        <th>Updated</th>
        <th>⟳</th>
        <th>Delete</th>
      </tr>
  </thead>
    <tbody>
    {% for r in recruits %}
      <tr>
        <td>{{ r.name }}</td>
        <td>{{ r.school or '–' }}</td>
        <td>{{ r.position or '–' }}</td>
        <td>{{ '{:.1f}'.format(r.three_fg_pct) if r.three_fg_pct is not none else '–' }}</td>
        <td>{{ '{:.1f}'.format(r.ft_pct) if r.ft_pct is not none else '–' }}</td>
        <td>{{ r.ast_to_to_ratio if r.ast_to_to_ratio is not none else '–' }}</td>
        <td>{{ r.off_rating if r.off_rating is not none else '–' }}</td>
        <td>{{ r.def_rating if r.def_rating is not none else '–' }}</td>
        <td>{{ r.s247_overall_rank or '–' }}</td>
        <td>{{ r.s247_position_rank or '–' }}</td>
        <td>{{ r.last_updated.strftime('%Y-%m-%d') }}</td>
        <td></td>
        <td>
          <form method="post" action="{{ url_for('recruit.delete_recruit', id=r.id) }}" class="inline">
            <button type="submit" class="text-red-600 hover:underline">Delete</button>
          </form>
        </td>
      </tr>
    {% else %}
      <tr>
        <td colspan="13" class="text-center">No recruits to display.</td>
      </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
