{% extends 'base.html' %}
{% block content %}
<h1>Recruits</h1>
<a href="{{ url_for('recruiting.add_recruit') }}" class="btn">+ Add Recruit</a>
<table class="table-auto w-full mt-4 text-left">
  <thead>
      <tr>
        <th>Name</th>
        <th>Position</th>
        <th>School</th>
        <th>247Sports</th>
        <th>ESPN</th>
        <th>Synergy ID</th>
        <th>Off Rating</th>
        <th>Def Rating</th>
        <th>MP</th>
        <th>3FG %</th>
        <th>FT %</th>
        <th>Ast</th>
        <th>TO</th>
        <th>A/T</th>
        <th>Actions</th>
      </tr>
  </thead>
    <tbody>
    {% for r in recruits %}
      <tr>
        <td>{{ r.name }}</td>
        <td>{{ r.position }}</td>
        <td>{{ r.school }}</td>
        <td>
          {% if r.s247_url %}
            <a href="{{ r.s247_url }}" target="_blank">247 Profile</a>
          {% endif %}
        </td>
        <td>
          {% if r.espn_url %}
            <a href="{{ r.espn_url }}" target="_blank">ESPN Profile</a>
          {% endif %}
        </td>
        <td>{{ r.synergy_player_id or '—' }}</td>
        <td>{{ r.off_rating or '—' }}</td>
        <td>{{ r.def_rating or '—' }}</td>
        <td>{{ r.minutes_played or '—' }}</td>
        <td>{{ r.three_fg_pct or '—' }}</td>
        <td>{{ r.ft_pct or '—' }}</td>
        <td>{{ r.assists or '—' }}</td>
        <td>{{ r.turnovers or '—' }}</td>
        <td>{{ r.ast_to_to_ratio or '—' }}</td>
        <td>
          <a href="{{ url_for('recruiting.update_synergy', id=r.id) }}" class="btn btn-sm btn-secondary">Set Synergy</a>
          <a href="{{ url_for('recruiting.edit_recruit', id=r.id) }}" class="btn btn-sm btn-primary">Edit</a>
          <form action="{{ url_for('recruiting.delete_recruit', id=r.id) }}"
                method="post" style="display:inline;">
            <button type="submit" class="btn btn-sm btn-danger">Delete</button>
          </form>
        </td>
      </tr>
    {% else %}
      <tr>
        <td colspan="7" class="text-center">No recruits to display.</td>
      </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
