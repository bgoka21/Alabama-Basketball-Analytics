{% extends 'base.html' %}
{% block content %}
<h1>Recruits</h1>
<a href="{{ url_for('recruit.add_recruit') }}" class="btn">+ Add Recruit</a>
<table class="table-auto w-full mt-4 text-left">
  <thead>
      <tr>
        <th>Name</th>
        <th>Position</th>
        <th>School</th>
        <th>247Sports</th>
        <th>Delete</th>
      </tr>
  </thead>
    <tbody>
    {% for r in recruits %}
      <tr>
        <td>{{ r.name }}</td>
        <td>{{ r.position }}</td>
        <td>{{ r.school }}</td>
        <td>
          {% if r.s247_url %}
            <a href="{{ r.s247_url }}" target="_blank">247 Profile</a>
          {% else %}
            <form method="post" action="{{ url_for('recruit.update_recruit_url', id=r.id) }}">
              <input name="s247_url" placeholder="247Sports URL" required>
              <button type="submit">Save URL</button>
            </form>
          {% endif %}
        </td>
        <td>
          <form method="post" action="{{ url_for('recruit.delete_recruit', id=r.id) }}">
            <button type="submit">Delete</button>
          </form>
        </td>
      </tr>
    {% else %}
      <tr>
        <td colspan="5" class="text-center">No recruits to display.</td>
      </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
