<div class="mb-8 bg-white rounded-lg shadow-md p-6">
  <h3 class="text-2xl font-semibold mb-4">Drill-by-Drill Entry</h3>
  <form method="post" class="w-full">
    <div class="overflow-x-auto">
      <table class="w-full table-fixed border border-gray-200 rounded-md">
        <thead>
          <tr class="bg-gray-100">
            <th rowspan="2" class="px-3 py-2 text-left text-sm font-medium border-r border-gray-200">Date</th>
            {% for key, subs in shot_map.items() %}
              <th colspan="{{ subs|length }}" class="px-3 py-2 text-center text-sm font-medium border-r border-gray-200">
                {{ label_map[key] }}
              </th>
            {% endfor %}
          </tr>
          <tr class="bg-gray-100">
            {% for subs in shot_map.values() %}
              {% for sub in subs %}
                <th class="px-2 py-1 text-xs font-medium border-r border-gray-200">{{ sub }}</th>
              {% endfor %}
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          <tr class="bg-white">
            <td class="px-3 py-2 border-t border-gray-200">
              <input type="date" name="date" required class="w-full border border-gray-300 rounded-md p-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#9E1B32]" />
            </td>
            {% for key, subs in shot_map.items() %}
              {% for sub in subs %}
                <td class="px-2 py-2 border-t border-gray-200">
                  <div class="flex space-x-1 justify-center">
                    <input type="number" min="0" name="{{ key }}_{{ sub|replace(' ', '_') }}_makes" placeholder="M" class="w-12 border border-gray-300 rounded-md p-1 text-sm focus:outline-none focus:ring-2 focus:ring-[#9E1B32]" />
                    <input type="number" min="0" name="{{ key }}_{{ sub|replace(' ', '_') }}_attempts" placeholder="A" class="w-12 border border-gray-300 rounded-md p-1 text-sm focus:outline-none focus:ring-2 focus:ring-[#9E1B32]" />
                  </div>
                </td>
              {% endfor %}
            {% endfor %}
          </tr>
          <tr class="bg-gray-50">
            <td colspan="{{ 1 + (shot_map.values()|map('length')|sum) }}" class="px-3 py-3 text-right border-t border-gray-200">
              <button type="submit" class="bg-[#9E1B32] hover:bg-[#7f1524] text-white px-5 py-2 rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-[#9E1B32]">Save All</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </form>
</div>
