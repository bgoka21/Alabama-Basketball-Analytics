<div class="px-6 py-4">
  <h1 class="text-2xl font-bold mb-4">Skill Development: {{ player.player_name }}</h1>

  <!-- Tab Navigation -->
  <ul class="flex space-x-4 mb-6">
    <!-- Overview tab -->
    <li>
      <a href="{{ url_for('admin.player_detail', player_name=player.player_name) }}"
         class="text-gray-600 hover:text-gray-900">
        Overview
      </a>
    </li>
    <!-- Game By Game tab preserves season_id to show game breakdown -->
    <li>
      <a href="{{ url_for('admin.player_detail',
                          player_name=player.player_name,
                          season_id=request.args.get('season_id')) }}"
         class="text-gray-600 hover:text-gray-900">
        Game By Game
      </a>
    </li>
    <!-- Current tab -->
    <li>
      <span class="text-[#9E1B32] font-semibold">Skill Development</span>
    </li>
  </ul>

  <!-- Entry Form (generic skill_name + value) -->
  {% if current_user.is_admin %}
  <div class="bg-white p-4 rounded shadow mb-6">
    <form method="post" class="space-y-4">
      <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
        <div class="flex-1">
          <label class="block text-sm font-medium">Date</label>
          <input type="date" name="date" required class="w-full border rounded p-2" />
        </div>
        <div class="flex-1">
          <label class="block text-sm font-medium">Skill Name</label>
          <input type="text"
                 name="skill_name"
                 placeholder="e.g. Free Throws"
                 required
                 class="w-full border rounded p-2" />
        </div>
        <div class="w-32">
          <label class="block text-sm font-medium">Value</label>
          <input type="number"
                 name="value"
                 min="0"
                 required
                 class="w-full border rounded p-2" />
        </div>
        <div class="flex items-end">
          <button type="submit"
                  class="bg-[#9E1B32] text-white px-4 py-2 rounded">
            Add Entry
          </button>
        </div>
      </div>
    </form>
  </div>
  {% endif %}

  <!-- NBA 100 Drill Entry Form -->
  {% if current_user.is_admin %}
  <div class="bg-white p-4 rounded shadow mb-6">
    <h2 class="text-lg font-semibold mb-2">NBA 100 Drill</h2>
    <form method="post"
          action="{{ url_for('admin.add_nba100_entry', player_name=player.player_name) }}"
          class="space-y-4">
      <div class="flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0 items-end">
        <!-- Date picker -->
        <div class="flex-1">
          <label for="nba100_date" class="block text-sm font-medium text-gray-700">Date</label>
          <input type="date"
                 id="nba100_date"
                 name="date"
                 required
                 class="mt-1 p-2 block w-full border border-gray-300 rounded" />
        </div>
        <!-- Makes out of 100 -->
        <div class="w-32">
          <label for="nba100_makes" class="block text-sm font-medium text-gray-700">Makes (0â€“100)</label>
          <input type="number"
                 id="nba100_makes"
                 name="makes"
                 min="0"
                 max="100"
                 required
                 class="mt-1 p-2 block w-full border border-gray-300 rounded" />
        </div>
        <!-- Submit button -->
        <div>
          <button type="submit"
                  class="bg-[#9E1B32] hover:bg-red-700 text-white font-semibold px-4 py-2 rounded">
            Save NBA 100
          </button>
        </div>
      </div>
    </form>
  </div>
  {% endif %}

  <!-- Totals Summary -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
    {% for skill, total in totals.items() %}
      <div class="bg-white p-4 rounded shadow">
        <h3 class="font-semibold">{{ skill }}</h3>
        <p class="text-3xl">{{ total }}</p>
      </div>
    {% endfor %}
    {% if totals|length == 0 %}
      <p class="text-gray-500">No entries yet.</p>
    {% endif %}
  </div>

  <!-- History Table -->
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white rounded shadow">
      <thead>
        <tr class="bg-gray-100">
          <th class="px-4 py-2 text-left">Date</th>
          <th class="px-4 py-2 text-left">Skill</th>
          <th class="px-4 py-2 text-left">Value</th>
        </tr>
      </thead>
      <tbody>
        {% for entry in entries %}
          <tr>
            <td class="border-t px-4 py-2">{{ entry.date.strftime('%b %d, %Y') }}</td>
            <td class="border-t px-4 py-2">{{ entry.skill_name }}</td>
            <td class="border-t px-4 py-2">{{ entry.value }}</td>
          </tr>
        {% endfor %}
        {% if entries|length == 0 %}
          <tr>
            <td colspan="3" class="border-t px-4 py-2 text-center text-gray-500">No history yet.</td>
          </tr>
        {% endif %}
      </tbody>
    </table>
  </div>
</div>
