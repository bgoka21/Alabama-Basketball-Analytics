{% extends 'admin/base.html' %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">{{ player_name }} - Session Report</h1>
<div class="overflow-x-auto">
  <table class="min-w-full bg-white border rounded">
    <thead class="bg-gray-100">
      <tr>
        <th class="px-4 py-2 text-left">Session</th>
        {% if sessions %}
          {% for key in sessions[0].stats.__dict__.keys() %}
            <th class="px-4 py-2 text-right">{{ key }}</th>
          {% endfor %}
        {% endif %}
      </tr>
    </thead>
    <tbody>
      {% for s in sessions %}
      <tr class="border-t">
        <td class="px-4 py-2">{{ s.name }}<br><span class="text-xs text-gray-600">{{ s.start_date }} â€“ {{ s.end_date }}</span></td>
        {% for val in s.stats.__dict__.values() %}
          <td class="px-4 py-2 text-right">{{ val }}</td>
        {% endfor %}
      </tr>
      {% endfor %}
      {% if overall %}
      <tr class="border-t font-bold">
        <td class="px-4 py-2">Overall</td>
        {% for key in sessions[0].stats.__dict__.keys() %}
          <td class="px-4 py-2 text-right">{{ overall[key] }}</td>
        {% endfor %}
      </tr>
      {% endif %}
    </tbody>
  </table>
</div>
{% endblock %}
