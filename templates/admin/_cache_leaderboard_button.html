{% if season_id %}
  {% set rebuild_url = url_for('admin.admin_rebuild_leaderboards', season_id=season_id) %}
  <div
    class="mt-4 mb-6 p-4 bg-gray-50 border border-gray-200 rounded-md"
    data-cache-container
    data-cache-endpoint="{{ rebuild_url }}"
    data-cache-season="{{ season_id }}"
  >
    <div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
      <div>
        <p class="text-sm text-gray-700">
          Build or refresh the leaderboard cache for this season to speed up page loads.
        </p>
      </div>
      <div class="flex items-center gap-3">
        <button
          type="button"
          class="cache-leaderboard-btn inline-flex items-center gap-2 px-4 py-2 bg-[#9E1B32] text-white font-semibold rounded shadow-sm hover:bg-[#7f1528] transition disabled:opacity-60 disabled:cursor-not-allowed"
        >
          <span class="cache-label">Cache Leaderboards</span>
          <span class="cache-spinner hidden" aria-hidden="true">‚è≥</span>
        </button>
        <p class="cache-status text-sm text-gray-600" aria-live="polite"></p>
      </div>
    </div>
  </div>
{% endif %}
