{% extends "base.html" %}
{% block content %}
  <h1 class="text-2xl font-bold mb-4">Edit Recruit</h1>
  <form method="post" enctype="multipart/form-data" class="max-w-xl bg-white p-6 rounded shadow space-y-4">
    <div>
      <label class="block mb-1 font-medium">Name</label>
      <input name="name" value="{{ recruit.name }}" required class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Graduation Year</label>
      <input name="graduation_year" value="{{ recruit.graduation_year or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Position</label>
      <input name="position" value="{{ recruit.position or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Height</label>
      <input name="height" value="{{ recruit.height or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Weight</label>
      <input name="weight" type="number" value="{{ recruit.weight or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">High School</label>
      <input name="high_school" value="{{ recruit.high_school or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Hometown</label>
      <input name="hometown" value="{{ recruit.hometown or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Rating</label>
      <input name="rating" type="number" value="{{ recruit.rating or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Ranking</label>
      <input name="ranking" type="number" value="{{ recruit.ranking or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">AAU Team</label>
      <input name="aau_team" type="text"
             value="{{ (recruit.aau_team if recruit is defined else '') or '' }}"
             class="mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800"/>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">PPG</label>
      <input name="ppg" type="number" step="0.1" min="0"
             value="{{ (recruit.ppg if (recruit is defined and recruit.ppg is not none) else '') }}"
             class="mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800"/>
    </div>
    <div>
      <label class="block mb-1 font-medium">Camp Performance</label>
      <textarea name="camp_performance" class="w-full border rounded px-3 py-2">{{ recruit.camp_performance or '' }}</textarea>
    </div>
    <div>
      <label class="block mb-1 font-medium">Offer Status</label>
      <input name="offer_status" value="{{ recruit.offer_status or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Offer Date</label>
      <input name="offer_date" type="date" value="{{ recruit.offer_date or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Commit Date</label>
      <input name="commit_date" type="date" value="{{ recruit.commit_date or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Email</label>
      <input name="email" value="{{ recruit.email or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block mb-1 font-medium">Phone</label>
      <input name="phone" value="{{ recruit.phone or '' }}" class="w-full border rounded px-3 py-2">
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Headshot (JPG/PNG/WebP/SVG)</label>
      <input name="headshot_file" type="file" accept=".jpg,.jpeg,.png,.webp,.gif,.svg"
             class="mt-1 block w-full text-sm text-gray-900 dark:text-gray-100
                file:mr-4 file:py-2 file:px-4
                file:rounded-md file:border-0
                file:text-sm file:font-semibold
                file:bg-gray-100 file:text-gray-700
                hover:file:bg-gray-200 dark:file:bg-gray-700 dark:file:text-gray-200"/>
      <p class="mt-1 text-xs text-gray-500">Uploading a file will override any manual URL.</p>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Headshot URL (optional)</label>
      <input name="profile_image_url" type="url"
             value="{{ recruit.profile_image_url if recruit is defined else '' }}"
             class="mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800"/>
    </div>
    <div>
      <label class="block mb-1 font-medium">Notes</label>
      <textarea name="notes" class="w-full border rounded px-3 py-2">{{ recruit.notes or '' }}</textarea>
    </div>
    <div class="flex items-center space-x-4">
      <button type="submit" class="bg-[#9E1B32] text-white px-4 py-2 rounded hover:bg-[#7a1526]">Save</button>
      <a href="{{ url_for('recruits.list_recruits') }}" class="text-gray-600 hover:underline">Cancel</a>
    </div>
  </form>
{% endblock %}
